import{_,m,c as l,a as s,e as h,f as n,v as d,t as g,g as f,d as c,b as w,w as v,r as b,o as p,p as y,h as k}from"./index-C-iiXoxg.js";const x={data(){return{email:"",password:"",loginError:null}},methods:{...m(["loginUser"]),async login(){try{await this.$store.dispatch("loginUser",{email:this.email,password:this.password}),this.$router.push({name:"home"}),setTimeout(()=>{location.reload()},50)}catch(e){console.log(e),this.loginError="Failed to login. Please check your credentials and try again."}}}},a=e=>(y("data-v-0e02f6a3"),e=e(),k(),e),E={class:"columns is-centered"},V={class:"column is-one-third"},L={class:"card"},N={class:"card-content"},S=a(()=>s("h1",{class:"title"},"Login",-1)),I={class:"field"},U=a(()=>s("label",{for:"email",class:"label"},"Email:",-1)),B={class:"field"},C=a(()=>s("label",{class:"label",for:"password"},"Password:",-1)),R=a(()=>s("button",{type:"submit",class:"button"},"Login",-1)),T=a(()=>s("br",null,null,-1)),q={key:0,class:"error-message"};function A(e,o,D,M,t,r){const u=b("RouterLink");return p(),l("div",E,[s("div",V,[s("div",L,[s("div",N,[S,s("form",{onSubmit:o[2]||(o[2]=h((...i)=>r.login&&r.login(...i),["prevent"]))},[s("div",I,[U,n(s("input",{type:"email",id:"email","onUpdate:modelValue":o[0]||(o[0]=i=>t.email=i),class:"input",required:""},null,512),[[d,t.email]])]),s("div",B,[C,n(s("input",{class:"input",type:"password",id:"password","onUpdate:modelValue":o[1]||(o[1]=i=>t.password=i),required:""},null,512),[[d,t.password]])]),R],32),T,t.loginError?(p(),l("h1",q,g(t.loginError),1)):f("",!0),s("h1",null,[c("No Account? "),w(u,{to:"/auth/registier"},{default:v(()=>[c("Register")]),_:1})])])])])])}const F=_(x,[["render",A],["__scopeId","data-v-0e02f6a3"]]);export{F as default};
