<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Higher Order Array Questions</title>
</head>
<body>
    
</body>
<script>
//     Problem 1: Filtering and Mapping with Objects
// You have an array of objects, where each object represents a student with properties name and score. Write a function that uses the filter and map functions to create a new array containing the names of students who scored above 80 and doubles their scores.
const students = [
  { name: 'Alice', score: 75 },
  { name: 'Bob', score: 92 },
  { name: 'Charlie', score: 88 },
  { name: 'David', score: 60 },
  { name: 'Eve', score: 78 },
];  

let over80doubled = students.filter((student) => student.score>80).map((student) => student.score*2)
console.log(over80doubled);



// Problem 2: Reducing to Find Maximum Score with Objects
// You have an array of objects representing scores in a baseball game. Each object has properties team and score. Write a function that uses the reduce function to find the team with the highest score.
const scores = [
  { team: 'A', score: 7 },
  { team: 'B', score: 12 },
  { team: 'C', score: 8 },
  { team: 'D', score: 9 },
  { team: 'E', score: 11 },
];

let highestScore = scores.reduce((highest, team) => {
    if(team.score>highest){
        highest = team.score
    }
    return highest;
      
}, 0)
console.log(highestScore)


 
// Problem 3: Counting Occurrences with Objects
// You have an array of objects representing products in a store. Each object has properties name and category. Write a function that uses the forEach function to count how many products belong to each category and store the results in an object.
const products = [
  { name: 'Laptop', category: 'Electronics' },
  { name: 'Shoes', category: 'Fashion' },
  { name: 'Camera', category: 'Electronics' },
  { name: 'Jeans', category: 'Fashion' },
];
let Categories = [];
products.forEach((product, i) =>{
    if(!Categories.includes(product.category)){
        Categories.push(product.category);
    }
})
Categories.forEach((notNeeded, i) =>{
    let num = products.reduce((total,product, a) =>{
        if(products[a].category === Categories[i])
            total++;
        return total;
    },0)
    Categories[i] += ": " + num;
})


console.log(Categories)

 
// Problem 4: Sorting Students
// You have an array of student objects, each containing properties name and score. Write a function that uses the sort function to sort the students in descending order of their scores. If two students have the same score, sort them alphabetically by their names.
const students1 = [
  { name: 'Alice', score: 75 },
  { name: 'Bob', score: 92 },
  { name: 'Charlie', score: 88 },
  { name: 'David', score: 60 },
  { name: 'Eve', score: 88 },
];


//in sorting, 1 means the right element is going to come before the left element
//and -1 means the left element will come before the right element
let order = students1.sort((a,b) =>{
    if(a.score<b.score){
        return 1;
    }else if(a.score>b.score){
        return -1;
    }else{
        if(a.name<b.name){
            return -1;
        }
    }
})

console.log(order)



</script>
</html>